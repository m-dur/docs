<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Changelog - Financial Data Fetcher</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #1f2328;
            background: #f6f8fa;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { font-size: 1.5rem; font-weight: 600; }
        .nav-links { display: flex; gap: 1.5rem; }
        .nav-link {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: background 0.3s;
            font-weight: 500;
        }
        .nav-link:hover { background: rgba(255, 255, 255, 0.2); }
        .layout { display: flex; max-width: 1400px; margin: 0 auto; }
        .sidebar {
            width: 280px;
            position: sticky;
            top: 80px;
            height: calc(100vh - 80px);
            overflow-y: auto;
            padding: 2rem 1rem;
            border-right: 1px solid #e1e4e8;
            background: white;
        }
        .toc-title {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #656d76;
            margin-bottom: 1rem;
            padding: 0 0.5rem;
        }
        .toc-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #764ba2;
            margin: 1.5rem 0 0.5rem 0;
            padding: 0 0.5rem;
        }
        .toc-list { list-style: none; padding: 0; }
        .toc-list li { margin-bottom: 0.25rem; }
        .toc-list a {
            display: block;
            padding: 0.375rem 0.5rem;
            color: #1f2328;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.875rem;
            transition: all 0.2s;
        }
        .toc-list a:hover { background: #f6f8fa; color: #0969da; }
        .main-content {
            flex: 1;
            padding: 2rem;
            background: white;
            min-height: calc(100vh - 80px);
        }
        .markdown-body {
            max-width: 980px;
            margin: 0 auto;
            padding: 2rem;
        }
        .month-section {
            margin-bottom: 3rem;
            border: 1px solid #e1e4e8;
            border-radius: 8px;
            overflow: hidden;
        }
        .month-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .month-title { font-size: 1.25rem; font-weight: 600; }
        .month-meta { font-size: 0.875rem; opacity: 0.9; }
        .month-content { padding: 1.5rem; }
        .month-summary {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 0 6px 6px 0;
            font-size: 0.95rem;
            color: #24292f;
            line-height: 1.7;
        }
        .month-summary ul {
            margin: 0.5rem 0 0 1.25rem;
            padding: 0;
        }
        .month-summary li {
            margin-bottom: 0.25rem;
        }
        .category { margin-bottom: 1.5rem; }
        .category-title {
            font-size: 1rem;
            font-weight: 600;
            color: #1f2328;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .category-title::before {
            content: '';
            width: 4px;
            height: 1rem;
            background: #667eea;
            border-radius: 2px;
        }
        .category-list {
            list-style: none;
            padding-left: 1rem;
        }
        .category-list li {
            padding: 0.375rem 0;
            color: #656d76;
            font-size: 0.9375rem;
            border-bottom: 1px solid #f0f0f0;
        }
        .category-list li:last-child { border-bottom: none; }
        .file-name {
            font-family: 'SFMono-Regular', Consolas, monospace;
            background: #f6f8fa;
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-size: 0.8125rem;
            color: #0969da;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        .stat-card {
            background: white;
            border: 1px solid #e1e4e8;
            border-radius: 8px;
            padding: 1.25rem;
            text-align: center;
        }
        .stat-value { font-size: 2rem; font-weight: 700; color: #667eea; }
        .stat-label { font-size: 0.875rem; color: #656d76; margin-top: 0.25rem; }
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        .summary-table th, .summary-table td {
            padding: 0.75rem 1rem;
            border: 1px solid #e1e4e8;
            text-align: left;
        }
        .summary-table th { background: #f6f8fa; font-weight: 600; }
        .summary-table tr:hover { background: #f6f8fa; }
        .version-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.25rem 0.625rem;
            border-radius: 4px;
            font-size: 0.8125rem;
            font-weight: 600;
        }
        @media (max-width: 1024px) { .sidebar { display: none; } }
        @media (max-width: 768px) {
            .header-content { flex-direction: column; gap: 1rem; }
            .stats-grid { grid-template-columns: 1fr 1fr; }
        }
        html { scroll-behavior: smooth; }
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: #667eea;
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s;
            opacity: 0;
            visibility: hidden;
        }
        .back-to-top.visible { opacity: 1; visibility: visible; }
        .back-to-top:hover { background: #764ba2; transform: translateY(-3px); }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">Changelog</div>
            <nav class="nav-links">
                <a href="financial-data-fetcher.html" class="nav-link">Documentation</a>
                <a href="index.html" class="nav-link">Portfolio</a>
            </nav>
        </div>
    </header>

    <div class="layout">
        <aside class="sidebar">
            <div class="toc-title">Jump to Month</div>
            <div class="toc-section-title">2025</div>
            <ul class="toc-list">
                <li><a href="#december-2025">December 2025</a></li>
                <li><a href="#november-2025">November 2025</a></li>
                <li><a href="#october-2025">October 2025</a></li>
                <li><a href="#september-2025">September 2025</a></li>
                <li><a href="#august-2025">August 2025</a></li>
                <li><a href="#july-2025">July 2025</a></li>
                <li><a href="#june-2025">June 2025</a></li>
                <li><a href="#january-2025">January 2025</a></li>
            </ul>
            <div class="toc-section-title">2024</div>
            <ul class="toc-list">
                <li><a href="#december-2024">December 2024</a></li>
                <li><a href="#november-2024">November 2024</a></li>
                <li><a href="#july-2024">July 2024</a></li>
            </ul>
            <div class="toc-section-title">Reference</div>
            <ul class="toc-list">
                <li><a href="#summary">Summary</a></li>
            </ul>
        </aside>

        <main class="main-content">
            <div class="markdown-body">
                <h1>Changelog</h1>
                <p>Complete development history based on code analysis of all commits.</p>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">135</div>
                        <div class="stat-label">Total Commits</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">163+</div>
                        <div class="stat-label">API Endpoints</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">18</div>
                        <div class="stat-label">Frontend Pages</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">27+</div>
                        <div class="stat-label">Database Tables</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">18</div>
                        <div class="stat-label">Months Active</div>
                    </div>
                </div>

                <!-- December 2025 -->
                <div class="month-section" id="december-2025">
                    <div class="month-header">
                        <div class="month-title">December 2025</div>
                        <div class="month-meta">5 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Flexible Date Range Filtering & Data Lineage Visualization</strong>
                            <ul>
                                <li><strong>ExpensesPage date presets:</strong> Added 7 time period options (YTD, Prior YTD, Past 3/6/12 Months, Prior 12 Months, All Time) with <code>getPresetDateRange()</code> helper calculating proper UTC date boundaries</li>
                                <li><strong>Backend date parameters:</strong> Modified 4 analytics endpoints (<code>/expenses-summary</code>, <code>/expenses-group-summary</code>, <code>/expenses-group-monthly</code>, <code>/expenses-group-category-breakdown</code>) to accept <code>start_date</code>/<code>end_date</code> query params</li>
                                <li><strong>Security:</strong> Added <code>CONFIDENTIAL_TABLES = {'access_tokens'}</code> blocklist in schema_routes.py to prevent preview of sensitive data</li>
                                <li><strong>ModelExplorerPage:</strong> Built ReactFlow-based data lineage visualization showing database table relationships (1,079 lines)</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li><span class="file-name">ExpensesPage.jsx</span> - Added <code>getPresetDateRange()</code>, <code>generateDateRangeOptions()</code>, <code>DATE_RANGE_PRESETS</code> array, <code>selectedPeriodMonthCount</code> for avg/month calculations (+100 lines)</li>
                                <li><span class="file-name">analytics.py</span> - Added <code>custom_start</code>/<code>custom_end</code> parameter parsing with ISO date handling in 4 route functions (+50 lines)</li>
                                <li><span class="file-name">schema_routes.py</span> - Added confidential table protection returning 403 for access_tokens preview</li>
                                <li><span class="file-name">ModelExplorerPage.jsx</span> - ReactFlow nodes for tables, edges for relationships, position layout algorithm</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- November 2025 -->
                <div class="month-section" id="november-2025">
                    <div class="month-header">
                        <div class="month-title">November 2025</div>
                        <div class="month-meta">8 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Materialized Views & Query Performance Optimization</strong>
                            <ul>
                                <li><strong>View conversion:</strong> Converted <code>stg_transactions</code>, <code>cash_inflow_summary</code>, <code>cash_outflow_summary</code> from regular views to <strong>MATERIALIZED VIEWS</strong> - query time reduced from 400-500ms to &lt;1ms</li>
                                <li><strong>Airflow refresh task:</strong> Added <code>_refresh_materialized_views()</code> function to financial_data_dag.py that runs after transaction sync, refreshing views in dependency order</li>
                                <li><strong>Indexes added:</strong> Created indexes on <code>cash_outflow_summary(month, description)</code> and <code>cash_inflow_summary(month, description)</code> for faster lookups</li>
                                <li><strong>DAG task ordering:</strong> New task <code>refresh_materialized_views_task</code> inserted after institution sync, before snapshot creation</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li><span class="file-name">financial_data_dag.py</span> - Added <code>_refresh_materialized_views()</code> with try/catch per view, timing logs, and ordered refresh list (+55 lines)</li>
                                <li><span class="file-name">cash_flow_views.sql</span> - Changed <code>CREATE OR REPLACE VIEW</code> to <code>CREATE MATERIALIZED VIEW</code>, added <code>CASCADE</code> drops</li>
                                <li><span class="file-name">transaction_views.sql</span> - Converted stg_transactions to materialized view with complex deduplication CTE preserved</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- October 2025 -->
                <div class="month-section" id="october-2025">
                    <div class="month-header">
                        <div class="month-title">October 2025</div>
                        <div class="month-meta">3 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Top N Transactions & Balance Change Tracking</strong>
                            <ul>
                                <li><strong>Top N analytics:</strong> Added endpoint to fetch largest transactions by amount with configurable limit</li>
                                <li><strong>Balance change visualization:</strong> Enhanced <code>BankBalanceChangeView</code> component to show daily balance fluctuations with delta calculations</li>
                                <li><strong>GitHub Pages docs:</strong> Created <code>docs/readme-viewer.html</code> for rendering README on documentation site</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li><span class="file-name">analytics.py</span> - New <code>/top-transactions</code> endpoint with ORDER BY amount DESC LIMIT N</li>
                                <li><span class="file-name">ExpensesPage.jsx</span> - UI section for displaying top transactions with formatted amounts</li>
                                <li><span class="file-name">BankBalanceChangeView.jsx</span> - Balance delta calculation and color-coded display</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- September 2025 -->
                <div class="month-section" id="september-2025">
                    <div class="month-header">
                        <div class="month-title">September 2025</div>
                        <div class="month-meta">2 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Chart Scaling & Net Worth Improvements</strong>
                            <ul>
                                <li><strong>Graph scaling:</strong> Improved Y-axis scaling in ExpensesPage charts to handle varied data ranges without clipping</li>
                                <li><strong>Net worth components:</strong> Refined <code>NetWorthChart</code> and <code>NetWorthSummary</code> balance change calculations</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li><span class="file-name">ExpensesPage.jsx</span> - Chart.js scale configuration with dynamic min/max based on data range</li>
                                <li><span class="file-name">NetWorthChart.jsx</span> - Balance change percentage calculation fixes</li>
                                <li><span class="file-name">BankBalanceChangeView.module.css</span> - Styling refinements for balance cards</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- August 2025 -->
                <div class="month-section" id="august-2025">
                    <div class="month-header">
                        <div class="month-title">August 2025</div>
                        <div class="month-meta">6 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Google-Style Chart Interactions & Payment Filtering</strong>
                            <ul>
                                <li><strong>Drag-to-select:</strong> Added Google Finance-style drag selection to <code>PortfolioChart</code> - users can drag across chart to see gain/loss between any two dates with highlighted selection area (+315 lines of selection plugin)</li>
                                <li><strong>Last-point labels:</strong> Created <code>lastPointValueLabelsPlugin</code> Chart.js plugin showing current values at line endpoints with styled callout boxes</li>
                                <li><strong>Price history filtering:</strong> Added time range filter (1W/1M/3M/6M/1Y/All) to price history view with proper cutoff date calculations</li>
                                <li><strong>PaymentHistoryPage overhaul:</strong> Major filtering system with multi-select, date range, and card type filters (+669 lines)</li>
                                <li><strong>DAG schedule change:</strong> Moved daily_stock_price_updater from 6PM to 1:01PM PST for intraday price updates</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li><span class="file-name">PortfolioChart.jsx</span> - <code>selectionPlugin</code> with <code>beforeInit</code>/<code>afterDraw</code> hooks, drag state tracking, gain/loss calculation display (+531 lines)</li>
                                <li><span class="file-name">NetWorthChart.jsx</span> - Crosshair plugin showing vertical line and value on hover (+150 lines)</li>
                                <li><span class="file-name">PaymentHistoryPage.jsx</span> - Filter state management, multi-select dropdowns, card type categorization</li>
                                <li><span class="file-name">database_info.sql</span> - Added Robinhood and Overdraft Protection exclusions to cash_outflow_summary</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- July 2025 -->
                <div class="month-section" id="july-2025">
                    <div class="month-header">
                        <div class="month-title">July 2025</div>
                        <div class="month-meta">30 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Transfer Detection System, Realized Gains Tracking, Stock Sales</strong>
                            <ul>
                                <li><strong>Transfer pattern system:</strong> Built complete pattern matching system for bank-to-investment transfers with built-in patterns (Fidelity MONEYLINE, Robinhood, Schwab) and custom pattern support. Patterns can be overridden or disabled (+299 lines in investment_transfers.py)</li>
                                <li><strong>Realized gains component:</strong> Created <code>RealizedGains.jsx</code> (315 lines) with tabs for summary/detailed/by-symbol views, filters for symbol/year, and formatted gain/loss display with percentages</li>
                                <li><strong>Stock sales with FIFO:</strong> Enhanced <code>investments.py</code> with <code>/api/investments/realized-gains</code> endpoint pulling from <code>stock_sales</code> table with holding period calculations (+712 lines)</li>
                                <li><strong>Portfolio group filtering:</strong> Added group_name filter to <code>get_portfolio_history()</code> with cash-only group detection for accounts without stocks</li>
                                <li><strong>Chart filter UI:</strong> Added security filter dropdown and group filter to PortfolioChart with multi-select checkboxes (+548 lines)</li>
                                <li><strong>Sell form enhancement:</strong> <code>SellStockForm.jsx</code> now shows individual lots with purchase dates for FIFO selection (+205 lines)</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li><span class="file-name">investment_transfers.py</span> - <code>get_transfer_patterns()</code> with built-in/custom merge, <code>update_transfer_pattern()</code> supporting both types, <code>delete_transfer_pattern()</code> with disabled override creation</li>
                                <li><span class="file-name">investments.py</span> - New endpoints: <code>/realized-gains</code>, <code>/portfolio-groups</code>, <code>/stock-categories</code>; enhanced <code>get_portfolio_history()</code> with group filtering</li>
                                <li><span class="file-name">RealizedGains.jsx</span> - Three-tab interface, TanStack Query integration, currency/percent formatting helpers</li>
                                <li><span class="file-name">PortfolioChart.jsx</span> - Security filter state, group filter state, multi-select dropdown components, filtered dataset generation</li>
                                <li><span class="file-name">stock_price_tracker_dag.py</span> - Removed cash-only update path, simplified to always fetch stock prices (-105 lines of conditional logic)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- June 2025 -->
                <div class="month-section" id="june-2025">
                    <div class="month-header">
                        <div class="month-title">June 2025</div>
                        <div class="month-meta">3 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Complete React 18 Frontend & Airflow Integration</strong>
                            <ul>
                                <li><strong>Frontend architecture:</strong> Migrated from server-rendered Flask templates to React 18 SPA with Vite build, TanStack Query for data fetching, CSS Modules for styling</li>
                                <li><strong>18 pages created:</strong> HomePage, InvestmentsPage, NetWorthPage, TransactionsPage, ExpensesPage, SubscriptionsPage, AllBalancesPage, PaymentHistoryPage, AnalysisPage, InstitutionsPage, SchemaPage, SqlEditorPage, PaymentMappingsPage, and more</li>
                                <li><strong>Investment components:</strong> PortfolioChart (line chart with time range), StockHoldings (lot-level table), AssetAllocation (pie chart), TopPerformers (best/worst), AddStockForm, SellStockForm, TransactionImporter (CSV)</li>
                                <li><strong>Net worth components:</strong> NetWorthChart, NetWorthSummary, MonthlyCashFlowChart, AssetAllocation, LiabilityBreakdown</li>
                                <li><strong>Airflow DAGs:</strong> financial_data_dag (scheduled sync), stock_price_tracker_dag (5PM stock updates), daily_stock_price_updater_dag (price backfill), net_worth_snapshot_dag</li>
                                <li><strong>Chart annotations:</strong> Added chartjs-plugin-annotation for vertical line markers on charts</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li><span class="file-name">frontend/</span> - Complete React app: <code>main.jsx</code>, <code>App.jsx</code> with react-router-dom, QueryClientProvider wrapper</li>
                                <li><span class="file-name">SidebarContext.jsx</span> - Global sidebar collapsed state with localStorage persistence</li>
                                <li><span class="file-name">vite.config.js</span> - HTTPS dev server, API proxy to localhost:5001, path aliases</li>
                                <li><span class="file-name">airflow/dags/</span> - 4 DAG files with PythonOperator tasks, XCom data passing, trigger rules</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- January 2025 -->
                <div class="month-section" id="january-2025">
                    <div class="month-header">
                        <div class="month-title">January 2025</div>
                        <div class="month-meta">10 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Treemap Visualization, Subscriptions, Transaction CRUD</strong>
                            <ul>
                                <li><strong>Expense treemap:</strong> Added D3.js treemap visualization for expense breakdown by category with hover tooltips and drill-down</li>
                                <li><strong>Subscription tracking:</strong> Built recurring payment detection and subscription management UI</li>
                                <li><strong>Transaction modification:</strong> Added endpoints for editing transaction category, name, and amount with audit trail</li>
                                <li><strong>Transaction deletion:</strong> Implemented soft delete with cascade handling for related records</li>
                                <li><strong>Expenses average:</strong> Added rolling average calculations for trend comparison</li>
                                <li><strong>Institution re-login:</strong> Built flow for refreshing expired Plaid access tokens with item error handling</li>
                                <li><strong>Docker setup:</strong> Created Dockerfile and docker-compose.yml for containerized deployment</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li>Treemap component with D3.js hierarchy layout and color scaling</li>
                                <li>Subscription detection with pattern matching on transaction names</li>
                                <li>Transaction CRUD endpoints with validation and rollback on error</li>
                                <li>Plaid item error handling with re-authentication flow</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- December 2024 -->
                <div class="month-section" id="december-2024">
                    <div class="month-header">
                        <div class="month-title">December 2024</div>
                        <div class="month-meta">27 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Cash Flow Analysis, Account History, API Telemetry</strong>
                            <ul>
                                <li><strong>Cash flow views:</strong> Created <code>cash_inflow_summary</code> and <code>cash_outflow_summary</code> SQL views with transfer filtering (NOT LIKE '%transfer%') to exclude internal movements</li>
                                <li><strong>Account history:</strong> Added <code>account_history</code> table for daily balance snapshots with pull_date tracking</li>
                                <li><strong>Credit tracking:</strong> Implemented credit card balance and credit limit display from Plaid liabilities data</li>
                                <li><strong>Items table:</strong> Created <code>items</code> table linking Plaid item_id to institution for multi-account management</li>
                                <li><strong>API telemetry:</strong> Built <code>plaid_api_calls</code> table logging all Plaid requests with response times, status codes, and error messages</li>
                                <li><strong>Deduplication:</strong> Implemented transaction deduplication logic matching on name, amount, date within 4-day window</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li>SQL views with CASE statements for category normalization and name consolidation</li>
                                <li>Plaid service wrapper logging all API calls before/after with timing</li>
                                <li>Credit limit extraction from Plaid liabilities endpoint</li>
                                <li>Cursor sync fix for transaction pagination</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- November 2024 -->
                <div class="month-section" id="november-2024">
                    <div class="month-header">
                        <div class="month-title">November 2024</div>
                        <div class="month-meta">38 commits</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Core Application Infrastructure</strong>
                            <ul>
                                <li><strong>Daily expense chart:</strong> Chart.js line chart with date grouping, click-to-filter by category</li>
                                <li><strong>Transactions view:</strong> Paginated transaction list with search, category filter, date range filter</li>
                                <li><strong>Expenses view:</strong> Expense aggregation by category with pie chart breakdown</li>
                                <li><strong>Accounts page:</strong> Institution list with account balances and last refresh dates</li>
                                <li><strong>Net income:</strong> Monthly income calculation with salary detection</li>
                                <li><strong>Access token storage:</strong> Created <code>access_tokens</code> table for encrypted Plaid credentials</li>
                                <li><strong>Cursor pagination:</strong> Implemented Plaid cursor-based sync for efficient transaction updates</li>
                                <li><strong>Dynamic group labels:</strong> Category grouping with configurable label mappings</li>
                            </ul>
                        </div>

                        <div class="category">
                            <div class="category-title">Key Code Changes</div>
                            <ul class="category-list">
                                <li>Flask blueprints for modular route organization</li>
                                <li>Jinja2 templates for server-rendered pages (later replaced with React)</li>
                                <li>PostgreSQL schema with foreign key relationships</li>
                                <li>Plaid Link integration for account connection flow</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- July 2024 -->
                <div class="month-section" id="july-2024">
                    <div class="month-header">
                        <div class="month-title">July 2024</div>
                        <div class="month-meta">3 commits - Project Start</div>
                    </div>
                    <div class="month-content">
                        <div class="month-summary">
                            <strong>Project Initialization</strong>
                            <ul>
                                <li><strong>Flask app:</strong> Created <code>app.py</code> entry point with configuration loading</li>
                                <li><strong>Plaid integration:</strong> Built <code>plaid_service.py</code> with client initialization and basic API calls</li>
                                <li><strong>Database setup:</strong> PostgreSQL connection with psycopg2, initial schema creation</li>
                                <li><strong>Configuration:</strong> Environment-based config with Plaid credentials, database URL</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Summary Section -->
                <div id="summary">
                    <h2>Summary</h2>

                    <h3>Commits by Month</h3>
                    <table class="summary-table">
                        <thead>
                            <tr><th>Year</th><th>Month</th><th>Commits</th><th>Key Features</th></tr>
                        </thead>
                        <tbody>
                            <tr><td rowspan="8">2025</td><td>Dec</td><td>5</td><td>Date range presets, data lineage visualization</td></tr>
                            <tr><td>Nov</td><td>8</td><td>Materialized views (400ms to &lt;1ms), DAG refresh task</td></tr>
                            <tr><td>Oct</td><td>3</td><td>Top N transactions, balance change tracking</td></tr>
                            <tr><td>Sep</td><td>2</td><td>Chart scaling, net worth refinements</td></tr>
                            <tr><td>Aug</td><td>6</td><td>Drag-to-select charts, payment filtering overhaul</td></tr>
                            <tr><td>Jul</td><td>30</td><td>Transfer detection, realized gains, stock sales FIFO</td></tr>
                            <tr><td>Jun</td><td>3</td><td>React 18 frontend, Vite, TanStack Query, 4 Airflow DAGs</td></tr>
                            <tr><td>Jan</td><td>10</td><td>D3 treemap, subscriptions, transaction CRUD, Docker</td></tr>
                            <tr><td rowspan="3">2024</td><td>Dec</td><td>27</td><td>Cash flow views, API telemetry, deduplication</td></tr>
                            <tr><td>Nov</td><td>38</td><td>Core infrastructure, cursor pagination, expense charts</td></tr>
                            <tr><td>Jul</td><td>3</td><td>Project start, Flask + Plaid integration</td></tr>
                            <tr style="background: #ddf4ff;"><td colspan="2"><strong>Total</strong></td><td><strong>135</strong></td><td></td></tr>
                        </tbody>
                    </table>

                    <h3>Version Reference</h3>
                    <table class="summary-table">
                        <thead>
                            <tr><th>Version</th><th>Date</th><th>Milestone</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><span class="version-badge">v0.1.0</span></td><td>2024-07-09</td><td>Project start - Flask + Plaid foundation</td></tr>
                            <tr><td><span class="version-badge">v0.2.0</span></td><td>2024-11-23</td><td>Core infrastructure - expense charts, cursor pagination</td></tr>
                            <tr><td><span class="version-badge">v0.3.0</span></td><td>2024-12-13</td><td>Cash flow analysis, API telemetry</td></tr>
                            <tr><td><span class="version-badge">v0.4.0</span></td><td>2025-01-22</td><td>Treemap visualization, subscriptions</td></tr>
                            <tr><td><span class="version-badge">v1.0.0</span></td><td>2025-06-19</td><td>React 18 frontend, Vite, Airflow DAGs</td></tr>
                            <tr><td><span class="version-badge">v2.0.0</span></td><td>2025-07-26</td><td>Transfer detection, realized gains tracking</td></tr>
                            <tr><td><span class="version-badge">v2.1.0</span></td><td>2025-08-30</td><td>Google-style chart interactions, drag-to-select</td></tr>
                            <tr><td><span class="version-badge">v2.2.0</span></td><td>2025-11-30</td><td>Materialized views, query optimization</td></tr>
                            <tr><td><span class="version-badge">v2.3.0</span></td><td>2025-12-17</td><td>Flexible date filtering, data lineage</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <div class="back-to-top" id="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg>
    </div>
    <script>
        window.addEventListener('scroll', () => {
            document.getElementById('back-to-top').classList.toggle('visible', window.scrollY > 300);
        });
    </script>
</body>
</html>
